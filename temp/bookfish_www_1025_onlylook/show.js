var result="wertyuiokjhgfdsxcvbnmmwertyuiokjhgfdsxcvbnmm";
var vote= "01234560000002345000230012345000000234500023";
var vote_int=[];
var range=["2~7","14~17","21~22","25~29","36~39","43~44"];
var range_int=[];
var seq=["rtyui","dsxc","mm","rtyui","dsxc","mm"];
var forward=0;

var data={
    "result": "MGKIIGIDLGTTNSCVAVLDGDKPRVIENAEGERTTASVIAYTDGETLVGQPAKRQAVTNPTNTLFAIKRLIGRRFEDEEVQRDIEIMPYKIVKADNGDAWVEAQGQKMAAPQVSAEILKKMKKTAEDFLGEEVTGAVITVPAYFNDAQRQATKDAGRIAGLEVKRIINEPTAAALAYGLDKKGGDRTIAVYDLGGGTFDISIIEIDEVEGEKTFEVLATNGDTHLGGEDFDNRLINYLVEEFKKEQGIDLKTDPLAMQRVKEAAEKAKIELSSTTQTDVNLPYVTADATGPKHMNVKVTRAKLESLVEDLVQRSLEPLKVALADADLSVGEITDVILVGGQTRMPMVQAKVAEFFGKEARRDVNPDEAVAMGAAVQGGVLAGDVKDVLLLDVTPLSLGIETMGGVMTKLVEKNTTIPTKANQVFSTAEDNQNAVTIHVLQGERKQAMYNKSLGQFNLEGIQPAPRGMPQIEVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQEAEANKEADKKFEELATARNQADQMIHGTRKQVEEAGDALPADEKEKIEAAISELEEARKGEDKEAIDAKVQALMAAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKEDKK",
    "vote": [
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        2,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        4,
        4,
        4,
        4,
        4,
        3,
        5,
        5,
        5,
        4,
        4,
        3,
        4,
        3,
        3,
        3,
        2,
        2,
        2,
        1,
        0,
        0,
        2,
        3,
        3,
        3,
        2,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        4,
        3,
        2,
        2,
        2,
        3,
        2,
        2,
        2,
        2,
        0,
        1,
        1,
        2,
        2,
        1,
        2,
        2,
        2,
        1,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        2,
        1,
        1,
        1,
        1,
        1,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        2,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        2,
        1,
        2,
        2,
        4,
        3,
        2,
        2,
        2,
        3,
        3,
        3,
        3,
        5,
        3,
        3,
        3,
        3,
        2,
        2,
        1,
        2,
        2,
        1,
        1,
        2,
        2,
        3,
        2,
        2,
        3,
        3,
        3,
        2,
        2,
        3,
        3,
        2,
        3,
        2,
        2,
        2,
        2,
        4,
        3,
        2,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        1,
        1,
        1,
        1,
        3,
        3,
        3,
        4,
        4,
        4,
        4,
        4,
        4,
        3,
        3,
        3,
        3,
        4,
        4,
        4,
        4,
        2,
        2,
        4,
        3,
        3,
        2,
        3,
        2,
        2,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        3,
        3,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        3,
        3,
        4,
        4,
        4,
        4,
        4,
        2,
        2,
        1,
        1,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        2,
        2,
        3,
        3,
        4,
        3,
        3,
        2,
        3,
        4,
        2,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        3,
        2,
        2,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        4,
        3,
        1,
        2,
        2,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        1,
        2,
        2,
        2,
        2,
        3,
        2,
        3,
        1,
        1,
        0,
        0,
        0,
        2,
        2,
        3,
        4,
        4,
        4,
        4,
        3,
        3,
        3,
        3,
        3,
        1,
        1,
        2,
        2,
        3,
        3,
        3,
        3,
        4,
        4,
        3,
        3,
        3,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        2,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        1,
        2,
        3,
        3,
        3,
        4,
        4,
        4,
        4,
        3,
        3,
        3,
        3,
        3,
        1,
        2,
        2,
        2,
        2,
        3,
        2,
        1,
        1,
        1,
        1,
        0,
        1,
        1,
        2,
        2,
        3,
        3,
        3,
        4,
        4,
        4,
        5,
        5,
        5,
        5,
        6,
        6,
        6,
        6,
        5,
        5,
        4,
        2,
        1,
        1,
        1,
        1,
        1,
        0,
        0,
        1,
        1,
        1,
        4,
        3,
        3,
        3,
        2,
        2,
        2,
        1,
        1,
        2,
        2,
        3,
        2,
        1,
        1,
        2,
        3,
        3,
        3,
        4,
        4,
        4,
        3,
        3,
        3,
        2,
        2,
        2,
        2,
        3,
        3,
        2,
        2,
        2,
        3,
        3,
        3,
        3,
        3,
        4,
        3,
        3,
        3,
        3,
        3,
        3,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        4,
        2,
        1,
        1
    ],
    "epitope": [
        {
            "range": "21-23",
            "seq": "DKP"
        },
        {
            "range": "27-38",
            "seq": "ENAEGERTTASV"
        },
        {
            "range": "50-68",
            "seq": "QPAKRQAVTNPTNTLFAIK"
        },
        {
            "range": "72-96",
            "seq": "GRRFEDEEVQRDIEIMPYKIVKADN"
        },
        {
            "range": "100-101",
            "seq": "WV"
        },
        {
            "range": "103-105",
            "seq": "AQG"
        },
        {
            "range": "107-117",
            "seq": "KMAAPQVSAEI"
        },
        {
            "range": "119-119",
            "seq": "K"
        },
        {
            "range": "125-131",
            "seq": "AEDFLGE"
        },
        {
            "range": "145-147",
            "seq": "NDA"
        },
        {
            "range": "155-155",
            "seq": "A"
        },
        {
            "range": "178-178",
            "seq": "G"
        },
        {
            "range": "180-197",
            "seq": "DKKGGDRTIAVYDLGGGT"
        },
        {
            "range": "199-200",
            "seq": "DI"
        },
        {
            "range": "203-223",
            "seq": "IEIDEVEGEKTFEVLATNGDT"
        },
        {
            "range": "235-235",
            "seq": "I"
        },
        {
            "range": "240-265",
            "seq": "EEFKKEQGIDLKTDPLAMQRVKEAAE"
        },
        {
            "range": "273-274",
            "seq": "ST"
        },
        {
            "range": "281-294",
            "seq": "LPYVTADATGPKHM"
        },
        {
            "range": "312-312",
            "seq": "Q"
        },
        {
            "range": "355-378",
            "seq": "FGKEARRDVNPDEAVAMGAAVQGG"
        },
        {
            "range": "382-387",
            "seq": "GDVKDV"
        },
        {
            "range": "389-419",
            "seq": "LLDVTPLSLGIETMGGVMTKLVEKNTTIPTK"
        },
        {
            "range": "421-422",
            "seq": "NQ"
        },
        {
            "range": "445-451",
            "seq": "QAMYNKS"
        },
        {
            "range": "457-468",
            "seq": "LEGIQPAPRGMP"
        },
        {
            "range": "471-516",
            "seq": "EVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQE"
        },
        {
            "range": "518-530",
            "seq": "EANKEADKKFEEL"
        },
        {
            "range": "532-537",
            "seq": "TARNQA"
        },
        {
            "range": "545-564",
            "seq": "RKQVEEAGDALPADEKEKIE"
        },
        {
            "range": "575-581",
            "seq": "KGEDKEA"
        },
        {
            "range": "584-587",
            "seq": "AKVQ"
        },
        {
            "range": "590-633",
            "seq": "MAAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKED"
        }
    ]
};
var e = JSON.parse (data);
/*
{
    "result" : "",
    "vote" : "",
    "epitope" : [
        {
            "range" : "",
            "seq" : ""
        }, {},...,{}
    ]
}
*/
/*
function data_processing(){
    for(var a=0;a<vote.length;a++){
        vote_int[a]=parseInt(vote[a]);
    }
    var b=0;
    for(var a=0;a<range.length;a++){
        //var NewArray = parseInt(range[a].split("~"),10);
        var Array = range[a].split("~");
        var NewArray=[parseInt(Array[0],10),parseInt(Array[1],10)];
        range_int[b]=NewArray[0]-forward-1;
        b++;
        range_int[b]=NewArray[1]-NewArray[0]+1;
        b++;
        forward=NewArray[1];
    }
}*/



//整理JSON檔
function data_processing(){
    
    //n和e是兩個json檔 都是系統設定0.2長度設1的Dnak 只是有沒有權重的差異

    //no weights
    n={
        "result": "MGKIIGIDLGTTNSCVAVLDGDKPRVIENAEGERTTASVIAYTDGETLVGQPAKRQAVTNPTNTLFAIKRLIGRRFEDEEVQRDIEIMPYKIVKADNGDAWVEAQGQKMAAPQVSAEILKKMKKTAEDFLGEEVTGAVITVPAYFNDAQRQATKDAGRIAGLEVKRIINEPTAAALAYGLDKKGGDRTIAVYDLGGGTFDISIIEIDEVEGEKTFEVLATNGDTHLGGEDFDNRLINYLVEEFKKEQGIDLKTDPLAMQRVKEAAEKAKIELSSTTQTDVNLPYVTADATGPKHMNVKVTRAKLESLVEDLVQRSLEPLKVALADADLSVGEITDVILVGGQTRMPMVQAKVAEFFGKEARRDVNPDEAVAMGAAVQGGVLAGDVKDVLLLDVTPLSLGIETMGGVMTKLVEKNTTIPTKANQVFSTAEDNQNAVTIHVLQGERKQAMYNKSLGQFNLEGIQPAPRGMPQIEVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQEAEANKEADKKFEELATARNQADQMIHGTRKQVEEAGDALPADEKEKIEAAISELEEARKGEDKEAIDAKVQALMAAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKEDKK",
        "vote": [
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            1,
            1,
            2,
            2,
            2,
            1,
            1,
            1,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            4,
            4,
            4,
            4,
            4,
            3,
            5,
            5,
            5,
            4,
            4,
            3,
            4,
            3,
            3,
            3,
            2,
            2,
            2,
            1,
            0,
            0,
            2,
            3,
            3,
            3,
            2,
            2,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            4,
            3,
            2,
            2,
            2,
            3,
            2,
            2,
            2,
            2,
            0,
            1,
            1,
            2,
            2,
            1,
            2,
            2,
            2,
            1,
            3,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            1,
            2,
            1,
            1,
            1,
            1,
            1,
            3,
            3,
            2,
            2,
            2,
            2,
            2,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            2,
            2,
            2,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            2,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            2,
            1,
            2,
            2,
            4,
            3,
            2,
            2,
            2,
            3,
            3,
            3,
            3,
            5,
            3,
            3,
            3,
            3,
            2,
            2,
            1,
            2,
            2,
            1,
            1,
            2,
            2,
            3,
            2,
            2,
            3,
            3,
            3,
            2,
            2,
            3,
            3,
            2,
            3,
            2,
            2,
            2,
            2,
            4,
            3,
            2,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            2,
            1,
            1,
            1,
            1,
            3,
            3,
            3,
            4,
            4,
            4,
            4,
            4,
            4,
            3,
            3,
            3,
            3,
            4,
            4,
            4,
            4,
            2,
            2,
            4,
            3,
            3,
            2,
            3,
            2,
            2,
            1,
            1,
            0,
            0,
            1,
            1,
            1,
            3,
            3,
            1,
            1,
            1,
            1,
            1,
            1,
            2,
            2,
            2,
            2,
            2,
            3,
            3,
            4,
            4,
            4,
            4,
            4,
            2,
            2,
            1,
            1,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            2,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            1,
            1,
            2,
            2,
            3,
            3,
            4,
            3,
            3,
            2,
            3,
            4,
            2,
            3,
            3,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            2,
            1,
            1,
            1,
            2,
            2,
            2,
            2,
            2,
            2,
            1,
            2,
            2,
            2,
            2,
            2,
            2,
            3,
            3,
            2,
            2,
            2,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            4,
            3,
            1,
            2,
            2,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            2,
            2,
            2,
            2,
            3,
            2,
            3,
            1,
            1,
            0,
            0,
            0,
            2,
            2,
            3,
            4,
            4,
            4,
            4,
            3,
            3,
            3,
            3,
            3,
            1,
            1,
            2,
            2,
            3,
            3,
            3,
            3,
            4,
            4,
            3,
            3,
            3,
            2,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            3,
            2,
            2,
            3,
            3,
            2,
            2,
            2,
            2,
            2,
            2,
            3,
            2,
            3,
            3,
            3,
            3,
            3,
            3,
            1,
            2,
            3,
            3,
            3,
            4,
            4,
            4,
            4,
            3,
            3,
            3,
            3,
            3,
            1,
            2,
            2,
            2,
            2,
            3,
            2,
            1,
            1,
            1,
            1,
            0,
            1,
            1,
            2,
            2,
            3,
            3,
            3,
            4,
            4,
            4,
            5,
            5,
            5,
            5,
            6,
            6,
            6,
            6,
            5,
            5,
            4,
            2,
            1,
            1,
            1,
            1,
            1,
            0,
            0,
            1,
            1,
            1,
            4,
            3,
            3,
            3,
            2,
            2,
            2,
            1,
            1,
            2,
            2,
            3,
            2,
            1,
            1,
            2,
            3,
            3,
            3,
            4,
            4,
            4,
            3,
            3,
            3,
            2,
            2,
            2,
            2,
            3,
            3,
            2,
            2,
            2,
            3,
            3,
            3,
            3,
            3,
            4,
            3,
            3,
            3,
            3,
            3,
            3,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            4,
            2,
            1,
            1
        ],
        "epitope": [
            {
                "range": "21-23",
                "seq": "DKP"
            },
            {
                "range": "27-38",
                "seq": "ENAEGERTTASV"
            },
            {
                "range": "50-68",
                "seq": "QPAKRQAVTNPTNTLFAIK"
            },
            {
                "range": "72-96",
                "seq": "GRRFEDEEVQRDIEIMPYKIVKADN"
            },
            {
                "range": "100-101",
                "seq": "WV"
            },
            {
                "range": "103-105",
                "seq": "AQG"
            },
            {
                "range": "107-117",
                "seq": "KMAAPQVSAEI"
            },
            {
                "range": "119-119",
                "seq": "K"
            },
            {
                "range": "125-131",
                "seq": "AEDFLGE"
            },
            {
                "range": "145-147",
                "seq": "NDA"
            },
            {
                "range": "155-155",
                "seq": "A"
            },
            {
                "range": "178-178",
                "seq": "G"
            },
            {
                "range": "180-197",
                "seq": "DKKGGDRTIAVYDLGGGT"
            },
            {
                "range": "199-200",
                "seq": "DI"
            },
            {
                "range": "203-223",
                "seq": "IEIDEVEGEKTFEVLATNGDT"
            },
            {
                "range": "235-235",
                "seq": "I"
            },
            {
                "range": "240-265",
                "seq": "EEFKKEQGIDLKTDPLAMQRVKEAAE"
            },
            {
                "range": "273-274",
                "seq": "ST"
            },
            {
                "range": "281-294",
                "seq": "LPYVTADATGPKHM"
            },
            {
                "range": "312-312",
                "seq": "Q"
            },
            {
                "range": "355-378",
                "seq": "FGKEARRDVNPDEAVAMGAAVQGG"
            },
            {
                "range": "382-387",
                "seq": "GDVKDV"
            },
            {
                "range": "389-419",
                "seq": "LLDVTPLSLGIETMGGVMTKLVEKNTTIPTK"
            },
            {
                "range": "421-422",
                "seq": "NQ"
            },
            {
                "range": "445-451",
                "seq": "QAMYNKS"
            },
            {
                "range": "457-468",
                "seq": "LEGIQPAPRGMP"
            },
            {
                "range": "471-516",
                "seq": "EVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQE"
            },
            {
                "range": "518-530",
                "seq": "EANKEADKKFEEL"
            },
            {
                "range": "532-537",
                "seq": "TARNQA"
            },
            {
                "range": "545-564",
                "seq": "RKQVEEAGDALPADEKEKIE"
            },
            {
                "range": "575-581",
                "seq": "KGEDKEA"
            },
            {
                "range": "584-587",
                "seq": "AKVQ"
            },
            {
                "range": "590-633",
                "seq": "MAAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKED"
            }
        ]};

    //using weights
    e= {
            "result": "MGKIIGIDLGTTNSCVAVLDGDKPRVIENAEGERTTASVIAYTDGETLVGQPAKRQAVTNPTNTLFAIKRLIGRRFEDEEVQRDIEIMPYKIVKADNGDAWVEAQGQKMAAPQVSAEILKKMKKTAEDFLGEEVTGAVITVPAYFNDAQRQATKDAGRIAGLEVKRIINEPTAAALAYGLDKKGGDRTIAVYDLGGGTFDISIIEIDEVEGEKTFEVLATNGDTHLGGEDFDNRLINYLVEEFKKEQGIDLKTDPLAMQRVKEAAEKAKIELSSTTQTDVNLPYVTADATGPKHMNVKVTRAKLESLVEDLVQRSLEPLKVALADADLSVGEITDVILVGGQTRMPMVQAKVAEFFGKEARRDVNPDEAVAMGAAVQGGVLAGDVKDVLLLDVTPLSLGIETMGGVMTKLVEKNTTIPTKANQVFSTAEDNQNAVTIHVLQGERKQAMYNKSLGQFNLEGIQPAPRGMPQIEVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQEAEANKEADKKFEELATARNQADQMIHGTRKQVEEAGDALPADEKEKIEAAISELEEARKGEDKEAIDAKVQALMAAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKEDKK",
            "vote": [
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                0,
                0,
                1,
                1,
                2,
                2,
                2,
                1,
                1,
                1,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                1,
                1,
                1,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                4,
                4,
                4,
                4,
                4,
                3,
                5,
                5,
                5,
                4,
                4,
                3,
                4,
                3,
                3,
                3,
                2,
                2,
                2,
                1,
                0,
                0,
                2,
                3,
                3,
                3,
                2,
                2,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                4,
                3,
                2,
                2,
                2,
                3,
                2,
                2,
                2,
                2,
                0,
                1,
                1,
                2,
                2,
                1,
                2,
                2,
                2,
                1,
                3,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                1,
                2,
                1,
                1,
                1,
                1,
                1,
                3,
                3,
                2,
                2,
                2,
                2,
                2,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                2,
                2,
                2,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                2,
                1,
                1,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                1,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                2,
                1,
                2,
                2,
                4,
                3,
                2,
                2,
                2,
                3,
                3,
                3,
                3,
                5,
                3,
                3,
                3,
                3,
                2,
                2,
                1,
                2,
                2,
                1,
                1,
                2,
                2,
                3,
                2,
                2,
                3,
                3,
                3,
                2,
                2,
                3,
                3,
                2,
                3,
                2,
                2,
                2,
                2,
                4,
                3,
                2,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                2,
                1,
                1,
                1,
                1,
                3,
                3,
                3,
                4,
                4,
                4,
                4,
                4,
                4,
                3,
                3,
                3,
                3,
                4,
                4,
                4,
                4,
                2,
                2,
                4,
                3,
                3,
                2,
                3,
                2,
                2,
                1,
                1,
                0,
                0,
                1,
                1,
                1,
                3,
                3,
                1,
                1,
                1,
                1,
                1,
                1,
                2,
                2,
                2,
                2,
                2,
                3,
                3,
                4,
                4,
                4,
                4,
                4,
                2,
                2,
                1,
                1,
                0,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                2,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                1,
                0,
                0,
                0,
                0,
                1,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                1,
                1,
                1,
                1,
                0,
                0,
                1,
                1,
                2,
                2,
                3,
                3,
                4,
                3,
                3,
                2,
                3,
                4,
                2,
                3,
                3,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                2,
                1,
                1,
                1,
                2,
                2,
                2,
                2,
                2,
                2,
                1,
                2,
                2,
                2,
                2,
                2,
                2,
                3,
                3,
                2,
                2,
                2,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                4,
                3,
                1,
                2,
                2,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
                1,
                1,
                1,
                1,
                2,
                2,
                2,
                2,
                3,
                2,
                3,
                1,
                1,
                0,
                0,
                0,
                2,
                2,
                3,
                4,
                4,
                4,
                4,
                3,
                3,
                3,
                3,
                3,
                1,
                1,
                2,
                2,
                3,
                3,
                3,
                3,
                4,
                4,
                3,
                3,
                3,
                2,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                3,
                2,
                2,
                3,
                3,
                2,
                2,
                2,
                2,
                2,
                2,
                3,
                2,
                3,
                3,
                3,
                3,
                3,
                3,
                1,
                2,
                3,
                3,
                3,
                4,
                4,
                4,
                4,
                3,
                3,
                3,
                3,
                3,
                1,
                2,
                2,
                2,
                2,
                3,
                2,
                1,
                1,
                1,
                1,
                0,
                1,
                1,
                2,
                2,
                3,
                3,
                3,
                4,
                4,
                4,
                5,
                5,
                5,
                5,
                6,
                6,
                6,
                6,
                5,
                5,
                4,
                2,
                1,
                1,
                1,
                1,
                1,
                0,
                0,
                1,
                1,
                1,
                4,
                3,
                3,
                3,
                2,
                2,
                2,
                1,
                1,
                2,
                2,
                3,
                2,
                1,
                1,
                2,
                3,
                3,
                3,
                4,
                4,
                4,
                3,
                3,
                3,
                2,
                2,
                2,
                2,
                3,
                3,
                2,
                2,
                2,
                3,
                3,
                3,
                3,
                3,
                4,
                3,
                3,
                3,
                3,
                3,
                3,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                4,
                2,
                1,
                1
            ],
            "epitope": [
                {
                    "range": "19-19",
                    "seq": "D"
                },
                {
                    "range": "21-39",
                    "seq": "DKPRVIENAEGERTTASVI"
                },
                {
                    "range": "49-68",
                    "seq": "GQPAKRQAVTNPTNTLFAIK"
                },
                {
                    "range": "72-96",
                    "seq": "GRRFEDEEVQRDIEIMPYKIVKADN"
                },
                {
                    "range": "100-101",
                    "seq": "WV"
                },
                {
                    "range": "103-105",
                    "seq": "AQG"
                },
                {
                    "range": "107-131",
                    "seq": "KMAAPQVSAEILKKMKKTAEDFLGE"
                },
                {
                    "range": "137-138",
                    "seq": "VI"
                },
                {
                    "range": "140-140",
                    "seq": "V"
                },
                {
                    "range": "145-147",
                    "seq": "NDA"
                },
                {
                    "range": "155-155",
                    "seq": "A"
                },
                {
                    "range": "176-200",
                    "seq": "AYGLDKKGGDRTIAVYDLGGGTFDI"
                },
                {
                    "range": "203-223",
                    "seq": "IEIDEVEGEKTFEVLATNGDT"
                },
                {
                    "range": "234-235",
                    "seq": "LI"
                },
                {
                    "range": "238-238",
                    "seq": "L"
                },
                {
                    "range": "240-265",
                    "seq": "EEFKKEQGIDLKTDPLAMQRVKEAAE"
                },
                {
                    "range": "273-293",
                    "seq": "STTQTDVNLPYVTADATGPKH"
                },
                {
                    "range": "312-312",
                    "seq": "Q"
                },
                {
                    "range": "328-328",
                    "seq": "S"
                },
                {
                    "range": "335-336",
                    "seq": "VI"
                },
                {
                    "range": "344-347",
                    "seq": "MPMV"
                },
                {
                    "range": "355-380",
                    "seq": "FGKEARRDVNPDEAVAMGAAVQGGVL"
                },
                {
                    "range": "382-422",
                    "seq": "GDVKDVLLLDVTPLSLGIETMGGVMTKLVEKNTTIPTKANQ"
                },
                {
                    "range": "445-452",
                    "seq": "QAMYNKSL"
                },
                {
                    "range": "457-530",
                    "seq": "LEGIQPAPRGMPQIEVTFDLDADGILHVSAKDKQTGKEQKITIQASGGLSDEDIEKMVQEAEANKEADKKFEEL"
                },
                {
                    "range": "532-537",
                    "seq": "TARNQA"
                },
                {
                    "range": "545-564",
                    "seq": "RKQVEEAGDALPADEKEKIE"
                },
                {
                    "range": "567-567",
                    "seq": "I"
                },
                {
                    "range": "575-581",
                    "seq": "KGEDKEA"
                },
                {
                    "range": "584-587",
                    "seq": "AKVQ"
                },
                {
                    "range": "589-589",
                    "seq": "L"
                },
                {
                    "range": "591-633",
                    "seq": "AAAQKLMEIAQQQAQAQQAGEAGEQPKQEDDVVDAEFEEVKED"
                }
            ]
        };
    
    result=e.result;
    result_len=e.result.length;

    for(var a=0;a<result_len;a++){
        vote[a]=e.vote[a];
    }

    for(var a=0;a<e.epitope.length;a++){
        range[a]=e.epitope[a].range;
        seq[a]=e.epitope[a].seq;
    }

    /*for(var a=0;a<vote.length;a++){
        vote_int[a]=parseInt(vote[a]);
    }*/
    var b=0;
    for(var a=0;a<range.length;a++){
        
        var Array = range[a].split("-");
        var NewArray=[parseInt(Array[0],10),parseInt(Array[1],10)];
        range_int[b]=NewArray[0]-forward-1;
        b++;
        range_int[b]=NewArray[1]-NewArray[0]+1;
        b++;
        forward=NewArray[1];
    }
    range_int[0]++;
}


//主要畫面輸出
function show(){

    data_processing();//整理輸入的JSON

    var showshow = document.getElementById("menu");
    var mes="";

    
    mes+='<div style="text-align:center;"><h2>'+document.getElementById("title").value+'</h2></div>';
    //顯示輸入參數的表格
    mes+='<p><table id="range_table" class="show_table">'+
         '<tr><td class="detail">threshold</td><td>'+select_range[0]/100+'</td><td class="detail">weights</td><td>true</td></tr>'+
         '<tr><td class="detail">LEPS</td><td>'+select_range[1]/100+'</td><td class="detail">ABCPred</td><td>'+select_range[4]/100+'</td></tr>'+
         '<tr><td class="detail">BCpreds</td><td>'+select_range[2]/100+'</td><td class="detail">Bcepred</td><td>'+select_range[5]/100+'</td></tr>'+
         '<tr><td class="detail">BepiPred-2</td><td>'+select_range[3]/100+'</td><td class="detail">LBtope</td><td>'+select_range[6]/100+'</td></tr>'+
         '<tr><td class="detail" colspan="2">Minimum length</td><td colspan="2">'+textlong+'</td></tr>'+
         '</table></p>';


    //顯示原始序列與其胺基酸票數的表格
    mes+='<p><div class="show_table" style="text-align:center;"><font>Prediction result</font>'+
         '<div class="float"><table id="fasta_epitope"><colgroup>';
        //顏色
    for(var a=0;a<range_int.length;a++){
        if(a%2==0){mes+='<col span="'+range_int[a]+'" class="origin"></col>';}
        else{mes+='<col span="'+range_int[a]+'" class="highlight"></col>';}
    }
    mes+='<tr>';
        //胺基酸
    for(var a=0;a<result.length;a++){
        mes+='<td style="padding:1px 5px;">'+result[a]+'</td>';
    }
    mes+='</tr><tr style="color:white;">';
        //對應票數
    for(var a=0;a<e.vote.length;a++){
        mes+='<td class="votecolor'+e.vote[a]+'">'+e.vote[a]+'</td>';
    }

    //預測出的片段們
    mes+='</tr></table></div></div></p><p><table id="epitope_table" class="show_table">'+
         '<col span="1" bgcolor="#8BC795" width=100px></col>'+
         '<col span="1" bgcolor="#C5E0C2" width=400px></col>';
    for(var a=0;a<range.length;a++){
        mes+='<tr><td style="text-align:center;">'+range[a]+'</td><td width=400px>'+seq[a]+'</td></tr>';
    }
    mes+="</table></p>"
    showshow.innerHTML = mes;
}





//主要輸出的畫面